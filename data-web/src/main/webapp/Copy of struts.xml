<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.i18n.encoding" value="utf-8"></constant>
	<constant name="struts.multipart.maxSize" value="20971520"/>
    <constant name="struts.devMode" value="true" />
    <constant name="struts.action.extension" value=","></constant>
    
    <package name="default" extends="struts-default,json-default">  
    
     	<interceptors>  
            <interceptor name="authority"  
                class="com.intellbi.framework.core.LoginInterceptor">  
            </interceptor>  
            <!-- 拦截器栈 -->  
            <interceptor-stack name="mydefault">  
                <interceptor-ref name="defaultStack" />  
                <interceptor-ref name="authority" />  
            </interceptor-stack>  
        </interceptors>  
    
    <!--result name="success" type="freemarker">/WEB-INF/test.ftl</result-->
        <!--action name="doLogin" class="com.intellbi.web.UserAction" method="doLogin">  
            
            <result name="success">/login_success.jsp</result>
            <result name="error">/login.jsp</result> 
        </action>
         <action name="logout" class="com.intellbi.web.UserAction" method="logout">  
            <result>/login.jsp</result>  
        </action-->  
        
        <action name="login" class="com.intellbi.web.UserAction" method="login">  
        	<result name="error">admin/pages/exception.jsp</result>
            <result name="success" type="redirect">/index.jsp</result>
        </action>
        
        <action name="logout" class="com.intellbi.web.UserAction" method="logout">
        	<result name="error">admin/pages/exception.jsp</result>
            <result name="success" type="redirect">/login.jsp</result>
        </action>
        
        <action name="setPasswd" class="com.intellbi.web.UserAction" method="setPasswd">
        	<result type="json">
        		<param name="root">sysMsg</param>
        	</result>
        </action>
        
        <action name="getContractConsumerBills" class="com.intellbi.web.ConsumerTaskAction" method="getContractConsumerBills">
        	<result name="success">admin/pages/task/contractTask.jsp</result>
        	<result name="error">admin/pages/exception.jsp</result>
        	<result name="login">login.jsp</result>
        </action>
        
         <action name="getAllContractConsumerBills" class="com.intellbi.web.ConsumerTaskAction" method="getAllContractConsumerBills">
            <result name="success">admin/pages/task/myConsumer.jsp</result>
            <result name="error">admin/pages/exception.jsp</result>
            <result name="login">login.jsp</result>
        </action>
        
        <action name="getConsumerBillsJson" class="com.intellbi.web.ConsumerTaskAction" method="getConsumerBillsJson">
        	<result type="json">
        		<param name="root">consumerBillDO</param>
        	</result>
        </action>
        
        <action name="getRecentConsumerBillsJson" class="com.intellbi.web.ConsumerTaskAction" method="getRecentConsumerBillsJson">
        	<result type="json">
        		<param name="root">recentBills</param>
        	</result>
        </action>
        
        <action name="getSingleHighGprsConsumerBills" class="com.intellbi.web.ConsumerTaskAction" method="getSingleHighGprsConsumerBills">
        	<result name="success">admin/pages/task/singleHighGprsTask.jsp</result>
        	<result name="error">admin/pages/exception.jsp</result>
        	<result name="login">login.jsp</result>
        </action>
        
        <action name="getAllUsers" class="com.intellbi.web.UserManageAction" method="getAllUsers">
        	<result name="success">admin/pages/user/showUser.jsp</result>
        </action>
        
    </package>  
    
</struts>
